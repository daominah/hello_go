package main

import (
	"database/sql"
	"encoding/json"
	"fmt"
	"math/rand"
	//	"sync"
	"strings"
	"time"

	"github.com/lib/pq"
)

var dbPool *sql.DB

func init() {
	fmt.Print()
	json.Marshal([]int{})
	_ = time.Now()
	_ = pq.NullTime{}
	_ = rand.Int63n(1)
	_ = strings.Join
	//
	psqlUsername := "daominah"
	psqlPassword := "123qwe"
	//	psqlAddress := "127.0.0.1:15432"
	psqlAddress := "45.119.213.86:5432"
	psqlDatabaseName := "live_stream"
	var err error
	dbPool, err = sql.Open(
		"postgres",
		fmt.Sprintf(
			"postgres://%s:%s@%s/%s?sslmode=disable",
			psqlUsername, psqlPassword,
			psqlAddress, psqlDatabaseName,
		),
	)
	if err != nil {
		fmt.Println("sql.Open postgres failed", err)
	}
	dbPool.SetMaxOpenConns(10)
	fmt.Println("sql.Open connected. ", err)
}

func main() {
	//for j := 0; j < 10; j++ {
	//	fmt.Println("j", j)
	//	prepareds := []string{}
	//	args := []interface{}{}
	//	for i := 0; i < 1000; i++ {
	//		prepareds = append(prepareds, fmt.Sprintf("($%v, $%v)", 2*i+1, 2*i+2))
	//		args = append(args, []interface{}{
	//			fmt.Sprintf("%04d%04d", j, i), rand.Float64()}...)
	//	}
	//	query := `INSERT INTO millionrows (id, val)
	//	    	VALUES ` + strings.Join(prepareds, ", ")
	//	//	fmt.Println("query", query, args)
	//	_, e := dbPool.Exec(query, args...)
	//	if e != nil {
	//		fmt.Println(e)
	//	}
	//}

	//	s := `rd6111333271
	//rd9080335575
	//rd3122570530
	//rd3458823367
	//rd2893126834
	//rd8466214402
	//rd6674485275
	//rd1913766911
	//rd6881688320
	//rd7536918304
	//rd2034225971
	//rd8623411152
	//rd7974078649
	//rd4752732610
	//rd9090609500
	//rd6384883530
	//rd5749482339
	//rd3958571009
	//rd9980421750
	//rd4637715056
	//rd8585804421
	//rd1227558921
	//rd7253128425
	//rd9500818806
	//rd6896406467
	//rd5660395867
	//rd181879813
	//rd3206452408
	//rd8013802027
	//rd9816239204
	//rd4494746325
	//rd2288475000
	//rd9187581993
	//rd8696451812
	//rd2735791468
	//rd6707648325
	//rd1173275218
	//rd9478482915
	//rd1357809701
	//rd383778990
	//rd6864857381
	//rd4613731203
	//rd3293811500
	//rd3362299142
	//rd1225619509
	//rd5677652066
	//rd9207681746
	//rd8541658692
	//rd8441553198
	//rd1765422045
	//rd5465351138
	//rd7982095388
	//rd9425430780
	//rd9017037203
	//rd3987692066
	//rd1545491835
	//rd8745207801
	//rd325864040
	//rd6253700593
	//rd7168245822
	//rd1817661564
	//rd7833161887
	//rd3897136171
	//rd5076869976
	//rd633650378
	//rd6097374028
	//rd5194688829
	//rd6888970183
	//rd644029630
	//rd6627647216
	//rd6979302352
	//rd795395197
	//rd871931066
	//rd5143432360
	//rd4182544896
	//rd7683650795
	//rd860644286
	//rd3430285193
	//rd2035966081
	//rd2805499198
	//rd8600856187
	//rd9159069353
	//rd180153067
	//rd8040712519
	//rd1456385121
	//rd5357237187
	//rd3662740762
	//rd992122664
	//rd7890679956
	//rd6246046600
	//rd7156387866
	//rd2303213897
	//rd657215783
	//rd1166551515
	//rd3377800471
	//rd532683234
	//rd4032038375
	//rd2544671233
	//rd8225042749
	//rd4339926669
	//rd1148020511
	//rd1064545203
	//rd9710536252
	//rd8471621507
	//rd9078055548
	//rd7591834513
	//rd8148402383
	//rd3251004663
	//rd6878076869
	//rd4387681962
	//rd7134296525
	//rd3188363170
	//rd4381659930
	//rd8623347841
	//rd6293271246
	//rd6859834574
	//rd7146291588
	//rd3942074178
	//rd206157278
	//rd9869937600
	//rd5217015150
	//rd1674691347
	//rd642292589
	//rd3068960050
	//rd3564399565
	//rd6505561183
	//rd9906883669
	//rd2351063571
	//rd9394293385
	//rd5920092480
	//rd2297940101
	//rd7766823736
	//rd1554162492
	//rd8255086281
	//rd4696279269
	//rd4979406249
	//rd9791207140
	//rd9411035960
	//rd9088653043
	//rd5460556951
	//rd7520628040
	//rd946279295
	//rd6351025801
	//rd2387455165
	//rd2199910494
	//rd5462855975
	//rd7681731165
	//rd8886513382
	//rd9031902018
	//rd9991965197
	//rd1538886698
	//rd6763356202
	//rd2657689229
	//rd4835875864
	//rd1525537386
	//rd872404600
	//rd9168406000
	//rd3997056332
	//rd4355836262
	//rd8656164939
	//rd7872470474
	//rd9845511081
	//rd3699201757
	//rd1346523774
	//rd6048292411
	//rd9700631594
	//rd5110821150
	//rd9824857823
	//rd8172743679
	//rd6233760875
	//rd4212904795
	//rd7395553738
	//rd7533466721
	//rd1115253814
	//rd1000379495
	//rd469654132
	//rd7333974549
	//rd696927416
	//rd2046533150
	//rd6026002266
	//rd1823889784
	//rd7208078766
	//rd2225561918
	//rd4000738111
	//rd8974705813
	//rd9743438920
	//rd5606259966
	//rd3382825711
	//rd8338285791
	//rd9362000580
	//rd9494829103
	//rd1411689307
	//rd9716182090
	//rd1965674795
	//rd8491123106
	//rd8728307265
	//rd512591095
	//rd7243371938
	//rd8362051696
	//rd16066374
	//rd5453546254
	//rd771036740
	//rd5719245247
	//rd2696139066
	//rd9854286593
	//rd7064051081
	//rd9809188152
	//rd9306546264
	//rd6622922387
	//rd5228218711
	//rd9928070850
	//rd9558154807
	//rd8468436115
	//rd7175854141
	//rd7188363829
	//rd7284103144
	//rd3481182817
	//rd9332769623
	//rd2390878537
	//rd4592311234
	//rd4613304546
	//rd5756187186
	//rd999065443
	//rd825140969
	//rd2504161587
	//rd479285049
	//rd6943624438
	//rd8034229166
	//rd7287115653
	//rd1910807789
	//rd5781540828
	//rd6586461903
	//rd3387793553
	//rd9471386087
	//rd7407200770
	//rd4229596144
	//rd1865499578
	//rd8869893009
	//rd3296440958
	//rd6597732111
	//rd7753099769
	//rd9631860156
	//rd1138639723
	//rd7954634546
	//rd8987007546
	//rd4387269691
	//rd8971898443
	//rd2466323434
	//rd5061464188
	//rd2634652525
	//rd1511854560
	//rd9564511702
	//rd9951845283
	//rd8334384610
	//rd2387691740
	//rd9181602654
	//rd4144667441
	//rd3645801648
	//rd178761083
	//rd337121433
	//rd4661178154
	//rd8194208823
	//rd6146824048
	//rd8332395145
	//rd8407512657
	//rd7921366386
	//rd8251923529
	//rd216731981
	//rd4067977485
	//rd6751769858
	//rd7205890623
	//rd9330391321
	//rd3097178874
	//rd7065996483
	//rd3187737354
	//rd8385303383
	//rd9026861136
	//rd5357250009
	//rd761198850
	//rd3145838960
	//rd3137607784
	//rd6871619977
	//rd4940668279
	//rd9911675917
	//rd7150127571
	//rd2960689262
	//rd3127159600
	//rd1666430983
	//rd3503285858
	//rd7532538391
	//rd1751360851
	//rd2964290182
	//rd9027073378
	//rd4895215865
	//rd4396165266
	//rd6733291212
	//rd2752500292
	//rd444537602
	//rd3710037396
	//rd5047692435
	//rd1287870953
	//rd7549851434
	//rd751118536
	//rd866218936
	//rd5013419402
	//rd6581098197
	//rd4455001040
	//rd5948696980
	//rd530576951
	//rd3052411787
	//rd2787461194
	//rd3565776555
	//rd6432167794
	//rd3506536592
	//rd4042901717
	//rd9912824017
	//rd8965403898
	//rd3592105898
	//rd232645976
	//rd135248833
	//rd9103293605
	//rd451956243
	//rd7738120052
	//rd4541642045
	//rd3932734192
	//rd9031011961
	//rd37516370
	//rd3779257186
	//rd1002264804
	//rd2109842262
	//rd3269603966
	//rd4638520874
	//rd163755347
	//rd8706087492
	//rd6479724431
	//rd2438288323
	//rd2788568767
	//rd438240282
	//rd2680525124
	//rd816073778
	//rd7412416599
	//rd5869855995
	//rd2373242156
	//rd2150416315
	//rd5426322744
	//rd484103042
	//rd5706533962
	//rd817611764
	//rd3533805947
	//rd6489463124
	//rd1621996447
	//rd1638387450
	//rd6711386752
	//rd8343058406
	//rd4656929440
	//rd908878095
	//rd2701675429
	//rd2829580129
	//rd9732761704
	//rd8546389346
	//rd6305276319
	//rd1165650408
	//rd2761183844
	//rd1256678822
	//rd1117157585
	//rd7818569484
	//rd1628234422
	//rd8336975399
	//rd460712503
	//rd16914084
	//rd6426694965
	//rd490693239
	//rd4025325659
	//rd1874016982
	//rd856696656
	//rd3418807646
	//rd233809709
	//rd4746590620
	//rd9191017229
	//rd9369220641
	//rd6279821319
	//rd9340572636
	//rd2603011166
	//rd8958248101
	//rd6050653958
	//rd2787971621
	//rd7058842850
	//rd6702116910
	//rd2438366344
	//rd2266286287
	//rd5788935946
	//rd8158184986
	//rd1704291133
	//rd1392605165
	//rd2117319268
	//rd3358279389
	//rd5591752258
	//rd3560760050
	//rd8570087352
	//rd5045341130
	//rd4508458074
	//rd5481545007
	//rd2585065445
	//rd2556346116
	//rd1714944328
	//rd9719025717
	//rd5431573820
	//rd2379188888
	//rd4185539377
	//rd90635455
	//rd3965409786
	//rd2767528211
	//rd450949390
	//rd4918591324
	//rd8314650840
	//rd8834315995
	//rd5317779784
	//rd8920030947
	//rd7722143502
	//rd9509140376
	//rd3741860953
	//rd4684898107
	//rd9846413359
	//rd2172382537
	//rd9249623069
	//rd7038769134
	//rd8826897168
	//rd6584173819
	//rd7370024402
	//rd191843412
	//rd2585596502
	//rd1662505447
	//rd9094283840
	//rd4243936481
	//rd9105713325
	//rd2822145712
	//rd6262989231
	//rd6089151059
	//rd3551419214
	//rd4694231386
	//rd6394207289
	//rd7059474841
	//rd7733042819
	//rd6600150176
	//rd1284026757
	//rd5934183039
	//rd9216463003
	//rd567035069
	//rd1540311916
	//rd6306077901
	//rd3726844180
	//rd9862007748
	//rd6527814084
	//rd5403261481
	//rd8579017105
	//rd1974475600
	//rd9673993164
	//rd8824965531
	//rd4297332954
	//rd9136485264
	//rd4885908678
	//rd7058039804
	//rd8255980123
	//rd3673460290
	//rd4344223213
	//rd5674682050
	//rd7707985870
	//rd3399480095
	//rd9432353180
	//rd5357300091
	//rd7469486819
	//rd6192480506
	//rd9612424381
	//rd6793760856
	//rd6124050955
	//rd6534421292
	//rd7246584024
	//rd3332365344
	//rd6707429888
	//rd2854122500
	//rd3628088819
	//rd7532597934
	//rd9389851585
	//rd5967997807
	//rd3896630213
	//rd5543940527
	//rd2990342336
	//rd3187009059
	//rd6815583961
	//rd6787745861
	//rd2670673347
	//rd8706421273
	//rd7834819400
	//rd9163826637
	//rd522332290
	//rd3116295564
	//rd5286849633
	//rd4435900780
	//rd973110818
	//rd7399776828
	//rd2052399927
	//rd633436129
	//rd7434087033
	//rd8949023367
	//rd4448659019
	//rd4973120795
	//rd4822014729
	//rd4513436608
	//rd7047953943
	//rd3400699353
	//rd5510849844
	//rd4634538856
	//rd2328051659
	//rd5459077941
	//rd9550943983
	//rd6865753703
	//rd8117007608
	//rd468508985
	//rd7996178480
	//rd4347615989
	//rd1941851704
	//rd9409002696
	//rd7224917973
	//rd579370304
	//rd6185157775
	//rd65062301
	//rd6730131516
	//rd8997883948
	//rd8296938908
	//rd1113626772
	//rd4900782466
	//rd7746563307
	//rd643942796
	//rd6267524403
	//rd5213664817
	//rd8772465336
	//rd5080138124
	//rd2910869961
	//rd3094595202
	//rd9964689401
	//rd7095619389
	//rd6894246563
	//rd556717181
	//rd7190672004
	//rd7229452960
	//rd152552156
	//rd870529570
	//rd6354781333
	//rd9117523603
	//rd8537637687
	//rd4502218718
	//rd6919387210
	//rd9052628487
	//rd6343377934
	//rd9532043621
	//rd7300855065
	//rd981048609
	//rd7393326186
	//rd4760613699
	//rd5584682951
	//rd9448569735
	//rd6839328530
	//rd8782286274
	//rd8428331069
	//rd8525331675
	//rd4445093008
	//rd9535756189
	//rd4093782764
	//rd8819497244
	//rd3479716271
	//rd7060393557
	//rd9826104032
	//rd5018583339
	//rd6689308395
	//rd6805772543
	//rd6245535085
	//rd6610813160
	//rd6522730969
	//rd1828117826
	//rd3390352425
	//rd6214479915
	//rd2123435014
	//rd1577751890
	//rd6790445197
	//rd7441367999
	//rd922740329
	//rd1254237859
	//rd2908402004
	//rd2850509130
	//rd4599703657
	//rd5149364556
	//rd8607815709
	//rd4762338480
	//rd7127427470
	//rd6831132651
	//rd2309809650
	//rd5074118178
	//rd5413911049
	//rd8405468088
	//rd7834247091
	//rd6642976793
	//rd746977729
	//rd5621523131
	//rd9806273807
	//rd6423894122
	//rd9921926570
	//rd5419865844
	//rd2591057702
	//rd1518623898
	//rd9056363489
	//rd3897063649
	//rd5573651958
	//rd9282288180
	//rd4086901874
	//rd7783622906
	//rd9254930476
	//rd2832558811
	//rd605772907
	//rd9107514194
	//rd3680612611
	//rd8715568566
	//rd2624415447
	//rd6019570846
	//rd516702978
	//rd8742182651
	//rd9837032694
	//rd2980773462
	//rd6387958053
	//rd2136437016
	//rd3100028046
	//rd2330398935
	//rd9774392363
	//rd7352009405
	//rd9632380324
	//rd4372102816
	//rd774985871
	//rd1072918026
	//rd5611903910
	//rd3252268676
	//rd815816415
	//rd7033427211
	//rd6341728163
	//rd6724562409
	//rd7599970183
	//rd3114400346
	//rd8528359552
	//rd5403020164
	//rd7721554037
	//rd1177763041
	//rd3527621209
	//rd8108889762
	//rd3561860930
	//rd5046872707
	//rd5487503065
	//rd7882231328
	//rd4189788556
	//rd3868894338
	//rd1516005096
	//rd3915291201
	//rd9629497822
	//rd8864378305
	//rd6426058410
	//rd6957002314
	//rd4534143747
	//rd1629273218
	//rd7957991726
	//rd1706075179
	//rd7080205024
	//rd4336665468
	//rd9488888429
	//rd8637630026
	//rd2348961922
	//rd4287939350
	//rd2848371095
	//rd5515739382
	//rd3229095075
	//rd9183993332
	//rd1839470872
	//rd514420914
	//rd6303504886
	//rd7522621248
	//rd1513308465
	//rd919510442
	//rd7971278264
	//rd6197813404
	//rd2486915471
	//rd869314714
	//rd60731219
	//rd1138609540
	//rd8643157043
	//rd105967658
	//rd2323752815
	//rd4866377563
	//rd549825907
	//rd8822244963
	//rd7737093315
	//rd1563653329
	//rd6406010935
	//rd2487207223
	//rd2629337143
	//rd895949526
	//rd747824873
	//rd724526646
	//rd6617634877
	//rd7352400872
	//rd7319326589
	//rd8583863150
	//rd253733836
	//rd3886690915
	//rd5973525483
	//rd4560772566
	//rd5774698954
	//rd2286065899
	//rd4542609672
	//rd310479504
	//rd7756343880
	//rd4133056330
	//rd1563547474
	//rd9122546209
	//rd3598122933
	//rd9190382910
	//rd7833583162
	//rd3165912475
	//rd873135768
	//rd3804081926
	//rd9879195554
	//rd5273199081
	//rd3796032255
	//rd6794391139
	//rd316285753
	//rd1893925581
	//rd1006956711
	//rd8787270639
	//rd4792792347
	//rd2554327567
	//rd795497700
	//rd9593552770
	//rd6642163314
	//rd3441505786
	//rd9262148362
	//rd4799790568
	//rd7273856641
	//rd336706340
	//rd405918151
	//rd8748740658
	//rd1846301616
	//rd5399541999
	//rd6789903187
	//rd625924779
	//rd6742834017
	//rd5719820509
	//rd2052564574
	//rd8316978475
	//rd4455044176
	//rd9564335508
	//rd1566977795
	//rd5959963004
	//rd5435516911
	//rd5452520921
	//rd5648031565
	//rd1168109115
	//rd1486345539
	//rd805374653
	//rd4984303539
	//rd5848701797
	//rd2190655662
	//rd965215768
	//rd8394802764
	//rd6107030837
	//rd8986051390
	//rd5782424554
	//rd166627421
	//rd245632614
	//rd7163221077
	//rd3603518144
	//rd5606830712
	//rd8328008434
	//rd8661563814
	//rd2368674533
	//rd5500705642
	//rd8773914614
	//rd1193557630
	//rd7015577677
	//rd2844824393
	//rd8476690464
	//rd7519809001
	//rd4630304399
	//rd4520057959
	//rd4073832469
	//rd3487793718
	//rd7614471288
	//rd6970884293
	//rd4091054909
	//rd693335862
	//rd2791828407
	//rd8708427956
	//rd9941370884
	//rd8825211070
	//rd4621975800
	//rd9591537798
	//rd4108782935
	//rd9933286206
	//rd2987158229
	//rd8558597753
	//rd8135159437
	//rd9005994492
	//rd6283590777
	//rd3812435263
	//rd2688726268
	//rd3944607563
	//rd8752233219
	//rd2948881795
	//rd7028740482
	//rd50031733
	//rd6200792827
	//rd324863760
	//rd2418890715
	//rd302748002
	//rd9710706963
	//rd2484189877
	//rd3530635474
	//rd9451111624
	//rd5821740831
	//rd7983401535
	//rd6252156833
	//rd1443507024
	//rd935689168
	//rd7290572359
	//rd6202266443
	//rd1980114052
	//rd1363691347
	//rd409999478
	//rd6063968000
	//rd9537418365
	//rd8018781888
	//rd9214626119
	//rd3484363050
	//rd7452096695
	//rd1031554911
	//rd6068773934
	//rd3565168851
	//rd9371922206
	//rd854536607
	//rd2071117327
	//rd1841221233
	//rd8315024297
	//rd6432264698
	//rd4558872312
	//rd9022619433
	//rd7749452883
	//rd4477365515
	//rd815125372
	//rd7777622116
	//rd8331602550
	//rd4589758448
	//rd6639216078
	//rd2570321914
	//rd8953222559
	//rd487252031
	//rd1206083142
	//rd4388010806
	//rd8383425062
	//rd6926530503
	//rd2439256189
	//rd5398841549
	//rd4941099563
	//rd609773095
	//rd1492310805
	//rd504018473
	//rd1220942226
	//rd3746306194
	//rd9958204937
	//rd8900837669
	//rd4894900322
	//rd4108933902
	//rd2834724808
	//rd9703267857
	//rd6775008937
	//rd2397542083
	//rd8517044718
	//rd2802278377
	//rd7851585444
	//rd586891064
	//rd6069148977
	//rd4076126159
	//rd43487030
	//rd7232740834
	//rd4066454882
	//rd9271774645
	//rd7773227090
	//rd517448824
	//rd9402865957
	//rd6641301873
	//rd1842728166
	//rd4290846430
	//rd9522856704
	//rd8049241369
	//rd493543502
	//rd2801322876
	//rd5153071032
	//rd4428398110
	//rd6532602282
	//rd9833319258
	//rd8228123419
	//rd218929965
	//rd1062046801
	//rd4680072759
	//rd8805197961
	//rd1470061497
	//rd4969260754
	//rd9623347038
	//rd1410912270
	//rd542138804
	//rd4633652443
	//rd2290425143
	//rd7255139360
	//rd652381970
	//rd5901861540
	//rd2094136107
	//rd1835187958
	//rd1228090629
	//rd5220664758
	//rd3440445226
	//rd219517852
	//rd7153966828
	//rd8424742875
	//rd5622751898
	//rd130749125
	//rd4641744799
	//rd1607014390
	//rd9202871333
	//rd7848025393
	//rd8660509783
	//rd8901894675
	//rd3350539788
	//rd7959267118
	//rd9789210201
	//rd4898877184
	//rd5741736792
	//rd5015054718
	//rd5786292516
	//rd816389899
	//rd1927176752
	//rd4571422985
	//rd2787202204
	//rd113688666
	//rd6809669065
	//rd2928155981
	//rd2244175262
	//rd1557235488
	//rd3989887187
	//rd9085967850
	//rd6787607928
	//rd3229155210
	//rd2330920229
	//rd4453316389
	//rd4460741388
	//rd7819809851
	//rd7270527113
	//rd725925658
	//rd8403789625
	//rd8940763172
	//rd9552035138
	//rd5952867279
	//rd5153332944
	//rd7744363459
	//rd9096215253
	//rd5127521282
	//rd8902743723
	//rd7470061365
	//rd7662689757
	//rd3604364808
	//rd3593130819
	//rd2524183948
	//rd9084800272
	//rd4330463341
	//rd6634548961
	//rd3779095837
	//rd7810019828
	//rd5754413001
	//rd2127750818
	//rd7888611763
	//rd2537557321
	//rd4794582275
	//rd3666513766
	//rd4622307320
	//rd7057054505
	//rd6590300823
	//rd7096916516
	//rd6736067496
	//rd521795575
	//rd8318424359
	//rd9531318746
	//rd9394449952
	//rd7680924264
	//rd8749503011
	//rd6284646247
	//rd9593017872
	//rd8037380540
	//rd6977490214`
	//
	//	ls := strings.Split(s, "\n")
	//	for i, l := range ls {
	//		fmt.Println(l)
	//		dbPool.Exec(`INSERT INTO gift_code_random (code, map_money, unique_key)
	//		VALUES ($1, $2, $3)`, l, `{"5000":1}`, 19920820)
	//		fmt.Println(i)
	//	}

	fmt.Println("xong")
}
